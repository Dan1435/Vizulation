<!DOCTYPE html>
<html lang="en" dir="ltr"> 
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Vizulation - 30 Visual Puzzles, 6 Weeks, Mon-Fri, Mind Tweaks.">
  <meta name="author" content="DAN">
  <link rel="icon" href="favicon.ico" type="image/ico">

  <title>
    Vizulation - 30 Puzzles, 6 Weeks, Mon-Fri, Mind Tweaks
  </title>

  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: lightblue;
      min-height: 100vh;
      overflow-y: auto;
    }

    main {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: 0;
  margin-bottom: 0;
}

    .logo-size {
     margin-top: 15px;
      width: 400px;
      height: 200px;
    }

    .center {
      text-align: center;
      align-items: center;
      margin-top: -55px;
    }

    
  canvas {
  border: 8px solid black;
    }

    .puzzle-wrapper {
      display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  padding-top: 20px;
  box-sizing: border-box;
    }

    #animation_container {
  width: 1280px;
  height: 720px;
  margin: 0 auto;
}
  </style>
</head>

<body>
  <header>
    <nav class="topnav">
      <div class="center">
        <a href="index.html">
          <img src="images/VizulationLogoBlack.png" alt="logo" class="logo-size">
        </a>
      </div>
    </nav>
  </header>


  <main class="main-content">
    <!-- Puzzle Section -->
    <section id="puzzle-threeinarow" class="puzzle-wrapper">
      <div id="animation_container" style="width:1280px; height:720px;">
        <canvas id="canvas" width="1280" height="720"></canvas>
        <div id="dom_overlay_container"></div>
      </div>
    </section>
  </main>

  <!-- Core library (local copy) -->
  <script src="assets/createjs.min.js"></script>
  <!-- Puzzle JS -->
  <script src="games/ThreeinaRow.js"></script>

  <script>
    // Animate export functions (from ThreeinaRow.html)
    var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;

    function init() {
      canvas = document.getElementById("canvas");
      anim_container = document.getElementById("animation_container");
      dom_overlay_container = document.getElementById("dom_overlay_container");
      var comp = AdobeAn.getComposition("B543C4DCA9038D4494FB095F47CB2718");
      var lib = comp.getLibrary();
      var loader = new createjs.LoadQueue(false);
      loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
      loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
      loader.loadManifest(lib.properties.manifest);
    }

    function handleFileLoad(evt, comp) {
      var images = comp.getImages();    
      if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }  
    }

    function handleComplete(evt, comp) {
      var lib = comp.getLibrary();
      var ss = comp.getSpriteSheet();
      var queue = evt.target;
      var ssMetadata = lib.ssMetadata;
      for (var i=0; i<ssMetadata.length; i++) {
        ss[ssMetadata[i].name] = new createjs.SpriteSheet({
          "images": [queue.getResult(ssMetadata[i].name)],
          "frames": ssMetadata[i].frames
        });
      }
      exportRoot = new lib.ThreeinaRow();
      exportRoot.addEventListener("tick", AdobeAn.handleFilterCache);
      stage = new lib.Stage(canvas);
      stage.enableMouseOver();
      fnStartAnimation = function() {
        stage.addChild(exportRoot);
        createjs.Ticker.framerate = lib.properties.fps;
        createjs.Ticker.addEventListener("tick", stage);
      };
      AdobeAn.makeResponsive(false,'both',false,1,[canvas,anim_container,dom_overlay_container]);   
      AdobeAn.compositionLoaded(lib.properties.id);
      fnStartAnimation();
    }

    // Control functions
    function openThreeinaRow() {
      document.getElementById('puzzle-threeinarow').style.display = 'block';
      init();
    }

    function closeThreeinaRow() {
      createjs.Ticker.removeAllEventListeners();
      if (window.stage) {
        stage.removeAllChildren();
        stage.update();
      }
      document.getElementById('puzzle-threeinarow').style.display = 'none';
    }
    window.onload = function() {
    openThreeinaRow();
  };
  </script>
</body>
</html>














































